#ifndef __mogedAnnotations__
#define __mogedAnnotations__

/**
@file
Subclass of Annotations, which is generated by wxFormBuilder.
*/

#include <vector>
#include "MogedFrames.h"
#include "mogedevents.hh"
#include "dbhelpers.hh"
#include "clipdb.hh" // for Annotation

class AppContext;
/** Implementing Annotations */
class mogedAnnotations : public Annotations, public Events::EventHandler
{
	AppContext *m_ctx;
	sqlite3_int64 m_current_clip;
	std::vector< Annotation > m_all_annos;
	std::vector< Annotation > m_annos;
public:
	/** Constructor */
	mogedAnnotations( wxWindow* parent, AppContext* ctx );

	void HandleEvent(Events::Event* ev);
protected:
	void OnAddAnnotation( wxCommandEvent& event ) ;
	void OnRemoveAnnotation( wxCommandEvent& event ) ;
	void OnEditCell( wxGridEvent& event ) ;

private:
	void SetCurrentClip( sqlite3_int64 clip );
	void RefreshView( ) ;

	int FindAnnotation(const std::vector< Annotation >& list, const char* name );
};

#endif // __mogedAnnotations__
