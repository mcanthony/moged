#ifndef __mogedClipControls__
#define __mogedClipControls__

/**
@file
Subclass of ClipControls, which is generated by wxFormBuilder.
*/

#include "MogedFrames.h"
#include "mogedevents.hh"

class AppContext ;

/** Implementing ClipControls */
class mogedClipControls : public ClipControls, public Events::EventHandler
{
	AppContext *m_ctx ;
	Clip* m_current_clip;
protected:
	// Handlers for ClipControls events.
	void OnRewindAll( wxCommandEvent& event );
	void OnRewind( wxCommandEvent& event );
	void OnPlay( wxCommandEvent& event );
	void OnFwd( wxCommandEvent& event );
	void OnFwdAll( wxCommandEvent& event );
	void OnStop( wxCommandEvent& event );
	void OnScrollFrame( wxScrollEvent& event );
	
	void HandleEvent( Events::Event* ev );
public:
	/** Constructor */
	mogedClipControls( wxWindow* parent, AppContext* ctx);

private:
	void SetClip( Clip* clip );
	void SetPlaybackInfo( float time, bool is_playing );
	void UpdateClipDetails();
};

#endif // __mogedClipControls__
